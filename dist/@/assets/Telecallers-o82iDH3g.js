import{r as c,j as e,f as l,Q as w,A as I,S as _,i as E}from"./index-eCljlgW-.js";import{u as U}from"./useAsync-BLnx-5gf.js";import{u as k}from"./useFilter-ChDoaq5n.js";import{u as L,M as P}from"./DrawerButton-tXa7dQCi.js";import{A as B,S as y}from"./AccessListModal-BMZNovlH.js";import{T as Q}from"./TableLoading-DCqgu7qm.js";import{u as V}from"./Layout-CLuA73Dq.js";import"./react-tooltip.min-BQYePIUb.js";import{D as q}from"./DeleteModal-BMrh0Yv2.js";import"./index.prod-DLjbbcrz.js";import{A as F}from"./AdminServices-T6vH5A2p.js";import"./toast-B6PEetj3.js";import{N as z}from"./NotFound-Sn3b-FT4.js";import{P as G}from"./PageTitle-Dv34tRwz.js";import"./ProductServices-DyjR-0YH.js";import"./index-DF7ydXMC.js";import"./useDisableForDemo-3Yn1Itnm.js";import"./CouponServices-ClgVJs1S.js";import"./CurrencyServices-Cv5sLHdT.js";import"./SelectLanguageTwo-CALhjDS1.js";import"./spinner-CkndCogW.js";import"./index-D3xxFJjS.js";import"./index.esm-Z-EGr4Ry.js";import"./InputArea-CpsUikjn.js";import"./useStaffSubmit-B1DyZRIA.js";import"./useTranslationValue-Bzejfx2N.js";import"./SelectRole-Co__61Iz.js";import"./LabelArea-CKGaWpTG.js";import"./Uploader-DGGggdPK.js";import"./_commonjs-dynamic-modules-LM44EJN2.js";import"./iconBase-C8O02EAZ.js";const J=({staffs:a,lang:u})=>{const{title:b,serviceId:o,handleModalOpen:T,handleUpdate:C,isSubmitting:m,handleResetPassword:R}=L();console.log(a);const{showDateFormat:v,showingTranslateValue:x}=V(),[h,d]=c.useState(null),[r,j]=c.useState(!1),g=()=>{d(null),j(!1)},[H,p]=c.useState({});c.useEffect(()=>{const s=a.reduce((t,i)=>({...t,[i._id]:i.status||"Hold"}),{});p(s)},[a]);const M=async(s,t)=>{var N,S;const i=s.target.value;p(n=>({...n,[t]:i}));try{await F.updateTelecallerStatus(t,{status:i}),w.success("Status updated successfully")}catch(n){console.error(n),w.error((S=(N=n==null?void 0:n.response)==null?void 0:N.data)==null?void 0:S.message),p(D=>{var A;return{...D,[t]:((A=a.find(O=>O._id===t))==null?void 0:A.status)||"Hold"}})}};return e.jsxs(e.Fragment,{children:[e.jsx(q,{id:o,title:b}),r&&e.jsx(B,{staff:h,isOpen:r,onClose:g,showingTranslateValue:x}),e.jsx(P,{children:e.jsx(y,{id:o})}),e.jsx(l.TableBody,{children:a==null?void 0:a.map(s=>e.jsxs(l.TableRow,{children:[e.jsxs(l.TableCell,{children:[e.jsx("span",{className:"text-sm",children:s.name})," "]}),e.jsx(l.TableCell,{children:e.jsx("span",{className:"text-sm ",children:s.email})}),e.jsx(l.TableCell,{children:e.jsx("span",{className:"text-sm ",children:s.mobile})}),e.jsx(l.TableCell,{children:e.jsx("span",{className:"text-sm ",children:s.city})}),e.jsx(l.TableCell,{children:e.jsx("span",{className:"text-sm ",children:s.state})}),e.jsx(l.TableCell,{children:e.jsx("span",{className:"text-sm ",children:s.pinCode})}),e.jsx(l.TableCell,{children:e.jsx("span",{className:"text-sm ",children:s.pan})}),e.jsx(l.TableCell,{children:e.jsx("span",{className:"text-sm ",children:s.aadhar})}),e.jsx(l.TableCell,{children:e.jsx("span",{className:"text-sm ",children:s.bankAccNumber})}),e.jsx(l.TableCell,{children:e.jsx("span",{className:"text-sm ",children:s.IFSC})}),e.jsx(l.TableCell,{children:e.jsx("span",{className:"text-sm ",children:s.accountHolderName})}),e.jsx(l.TableCell,{children:e.jsxs("select",{className:"px-2 py-1 rounded-md bg-white text-black",value:H[s._id],id:"",onChange:t=>{M(t,s._id)},children:[e.jsx("option",{value:"Accepted",children:"Active"}),e.jsx("option",{value:"Hold",children:"Hold"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})})]},s._id))})]})},we=()=>{const{state:a}=c.useContext(I),{adminInfo:u}=a,{toggleDrawer:b,lang:o}=c.useContext(_),{data:T,loading:C,error:m}=U(()=>F.getAllTelecallers({email:u.email})),{userRef:R,setRole:v,totalResults:x,resultsPerPage:h,dataTable:d,serviceData:r,handleChangePage:j,handleSubmitUser:g}=k(T);return E(),console.log(d),e.jsxs(e.Fragment,{children:[e.jsxs(G,{children:["Our Partners"," "]}),e.jsx(P,{children:e.jsx(y,{})}),C?e.jsx(Q,{row:12,col:7,width:163,height:20}):m?e.jsx("span",{className:"text-center mx-auto text-red-500",children:m}):(r==null?void 0:r.length)!==0?e.jsxs(l.TableContainer,{className:"mb-8 rounded-b-lg",children:[e.jsxs(l.Table,{children:[e.jsx(l.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(l.TableCell,{children:"name"}),e.jsx(l.TableCell,{children:"email"}),e.jsx(l.TableCell,{children:"mobile"}),e.jsx(l.TableCell,{children:"city"}),e.jsx(l.TableCell,{children:"state"}),e.jsx(l.TableCell,{className:"text-center",children:"Pincode"}),e.jsx(l.TableCell,{className:"text-center",children:"PAN"}),e.jsx(l.TableCell,{className:"text-center",children:"AADHAR"}),e.jsx(l.TableCell,{className:"text-center",children:"Account NO."}),e.jsx(l.TableCell,{className:"text-center",children:"IFSC"}),e.jsx(l.TableCell,{className:"text-center",children:"ACC. Holder Name"}),e.jsx(l.TableCell,{className:"text-center",children:"Status"})]})}),e.jsx(J,{staffs:d,lang:o})]}),e.jsx(l.TableFooter,{children:e.jsx(l.Pagination,{totalResults:x,resultsPerPage:h,onChange:j,label:"Table navigation"})})]}):e.jsx(z,{title:"Sorry, There are no staff right now."})]})};export{we as default};
