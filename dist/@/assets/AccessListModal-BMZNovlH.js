import{r as f,f as t,i as A,j as e}from"./index-eCljlgW-.js";import{k as C,l as D,y as z}from"./Layout-CLuA73Dq.js";import{j as k}from"./index-D3xxFJjS.js";import{E as d}from"./index.esm-Z-EGr4Ry.js";import{T as h,D as E}from"./DrawerButton-tXa7dQCi.js";import{I as n}from"./InputArea-CpsUikjn.js";import{u as L}from"./useStaffSubmit-B1DyZRIA.js";import{S as I}from"./SelectRole-Co__61Iz.js";import{L as r}from"./LabelArea-CKGaWpTG.js";import{U as R}from"./Uploader-DGGggdPK.js";const F=({id:o})=>{const{role:i}=C(),{mode:a}=f.useContext(t.WindmillContext),{register:s,handleSubmit:m,onSubmit:p,errors:l,adminInfo:x,imageUrl:u,setImageUrl:b,isSubmitting:N,selectedDate:v,setSelectedDate:w,accessedRoutes:y,setAccessedRoutes:S,handleSelectLanguage:j}=L(o),{t:c}=A();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:o?e.jsx(h,{register:s,handleSelectLanguage:j,title:c("UpdateStaff"),description:c("UpdateStaffdescription")}):e.jsx(h,{register:s,handleSelectLanguage:j,title:c("AddStaffTitle"),description:c("AddStaffdescription")})}),e.jsx(D.Scrollbars,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:e.jsx(t.Card,{className:"overflow-y-scroll flex-grow scrollbar-hide w-full max-h-full",children:e.jsx(t.CardBody,{children:e.jsxs("form",{onSubmit:m(p),children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(r,{label:"Staff Image"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(R,{imageUrl:u,setImageUrl:b,folder:"admin",targetWidth:238,targetHeight:238})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(r,{label:"Name"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(n,{required:!0,register:s,label:"Name",name:"name",type:"text",autoComplete:"username",placeholder:"Staff name"}),e.jsx(d,{errorName:l.name})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(r,{label:"Email"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(n,{required:!0,register:s,label:"Email",name:"email",type:"text",autoComplete:"username",pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,placeholder:"Email"}),e.jsx(d,{errorName:l.email})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(r,{label:"Password"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[o?e.jsx(n,{register:s,label:"Password",name:"password",type:"password",autoComplete:"current-password",placeholder:"Password"}):e.jsx(n,{required:!0,register:s,label:"Password",name:"password",type:"password",autoComplete:"current-password",placeholder:"Password"}),e.jsx(d,{errorName:l.password})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(r,{label:"Contact Number"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(n,{required:!0,register:s,label:"Contact Number",name:"phone",pattern:/^[+]?\d*$/,minLength:6,maxLength:15,type:"text",placeholder:"Phone number"}),e.jsx(d,{errorName:l.phone})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(r,{label:"Joining Date"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(t.Input,{onChange:g=>w(g.target.value),label:"Joining Date",name:"joiningDate",value:v,type:"date",placeholder:c("StaffJoiningDate")}),e.jsx(d,{errorName:l.joiningDate})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(r,{label:"Staff Role"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(I,{register:s,label:"Role",name:"role"}),e.jsx(d,{errorName:l.role})]})]}),i==="Admin"||i==="Super Admin"&&e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(r,{label:"Select Routes to given Access"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(k,{options:z,value:y,className:a,onChange:g=>S(g),labelledBy:"Select Coupon"})})]})]}),e.jsx(E,{id:o,title:"Staff",zIndex:"z-5",isSubmitting:N})]})})})})]})},W=({isOpen:o,onClose:i,staff:a,showingTranslateValue:s})=>{var m,p;return e.jsxs(t.Modal,{isOpen:o,onClose:i,children:[e.jsxs("h1",{className:"text-xl font-medium text-center pb-6 dark:text-gray-300",children:["List of route access for"," ",e.jsx("span",{className:"text-emerald-600",children:s(a==null?void 0:a.name)})]}),e.jsx(t.ModalBody,{children:((m=a==null?void 0:a.access_list)==null?void 0:m.length)>0?e.jsx("ol",{className:"list-disc pl-5",children:(p=a==null?void 0:a.access_list)==null?void 0:p.map((l,x)=>e.jsx("li",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize",children:l},x))}):e.jsx("p",{className:"text-orange-500 py-10 text-lg text-center",children:"This staff not have any route access!"})}),e.jsx(t.ModalFooter,{className:"justify-end",children:e.jsx(t.Button,{className:"w-full sm:w-auto bg-red-400 text-white hover:bg-red-500",layout:"delete",onClick:i,children:"Close"})})]})};export{W as A,F as S};
